{% extends "account/base.html" %}

{% block head %}
{{ block.super }}
<script>
    function fetchKeys(){
    $.getJSON('/u/genkey/', function(data) {
        $('#id_public_key').val(data['public']);
        $('#id_private_key').val(data['private']);
    });
    }
</script>
{% endblock %}


{% block header %}
    <h1>Settings</h1>
{% endblock %}


{% block content %}
<h3>{{ state }}</h3>
<form action='' method="post">
    {% csrf_token %}
    <table>
        {{ settings_form.as_table }}
    <tr>
        <th></th>
        <td>
            <input type="button" value="Generate Keys" onClick="fetchKeys()"/>
        </td>
    </tr>
        {{ pass_form.as_table }}
    <tr>
        <th></th>
        <td>
            <br>
            <input type="submit" value="Submit" />
            <input type="reset" value="Reset" />
        </td>
    </tr>
    </table>
</form>
{% endblock %}
